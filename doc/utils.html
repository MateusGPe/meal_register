<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Python: module utils</title>
</head><body>

<table class="heading">
<tr class="heading-text decor">
<td class="title">&nbsp;<br><strong class="title">utils</strong></td>
<td class="extra"><a href=".">index</a><br><a href="file:/home/mateusgp/projects/meal_register/registro/control/utils.py">/home/mateusgp/projects/meal_register/registro/control/utils.py</a></td></tr></table>
    <p><span class="code">Utility&nbsp;functions&nbsp;for&nbsp;the&nbsp;registration&nbsp;application.<br>
&nbsp;<br>
This&nbsp;module&nbsp;provides&nbsp;a&nbsp;collection&nbsp;of&nbsp;helper&nbsp;functions&nbsp;for&nbsp;common&nbsp;tasks<br>
such&nbsp;as&nbsp;loading&nbsp;and&nbsp;saving&nbsp;data&nbsp;in&nbsp;JSON&nbsp;and&nbsp;CSV&nbsp;formats,&nbsp;finding&nbsp;the<br>
best&nbsp;matching&nbsp;string&nbsp;pairs,&nbsp;capitalizing&nbsp;text&nbsp;according&nbsp;to&nbsp;specific&nbsp;rules,<br>
and&nbsp;adjusting&nbsp;dictionary&nbsp;keys.&nbsp;It&nbsp;also&nbsp;defines&nbsp;a&nbsp;TypedDict&nbsp;for&nbsp;representing<br>
session&nbsp;data.</span></p>
<p>
<table class="section">
<tr class="decor pkg-content-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Modules</strong></td></tr>
    
<tr><td class="decor pkg-content-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><table><tr><td class="multicolumn"><a href="csv.html">csv</a><br>
<a href="ctypes.html">ctypes</a><br>
</td><td class="multicolumn"><a href="fuzzywuzzy.fuzz.html">fuzzywuzzy.fuzz</a><br>
<a href="json.html">json</a><br>
</td><td class="multicolumn"><a href="os.html">os</a><br>
<a href="platform.html">platform</a><br>
</td><td class="multicolumn"><a href="re.html">re</a><br>
<a href="sys.html">sys</a><br>
</td></tr></table></td></tr></table><p>
<table class="section">
<tr class="decor functions-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Functions</strong></td></tr>
    
<tr><td class="decor functions-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><dl><dt><a name="-adjust_keys"><strong>adjust_keys</strong></a>(input_dict: dict) -&gt; dict</dt><dd><span class="code">Adjusts&nbsp;the&nbsp;keys&nbsp;and&nbsp;values&nbsp;of&nbsp;a&nbsp;given&nbsp;dictionary&nbsp;according&nbsp;to&nbsp;predefined&nbsp;rules.<br>
&nbsp;<br>
This&nbsp;function&nbsp;processes&nbsp;the&nbsp;input&nbsp;dictionary&nbsp;by&nbsp;converting&nbsp;all&nbsp;string&nbsp;keys&nbsp;to&nbsp;lowercase,<br>
translating&nbsp;certain&nbsp;keys&nbsp;using&nbsp;a&nbsp;translation&nbsp;dictionary,&nbsp;and&nbsp;performing&nbsp;specific<br>
formatting&nbsp;on&nbsp;the&nbsp;values&nbsp;based&nbsp;on&nbsp;their&nbsp;keys.&nbsp;Keys&nbsp;like&nbsp;"nome"&nbsp;and&nbsp;"dish"&nbsp;have&nbsp;their<br>
values&nbsp;capitalized&nbsp;appropriately,&nbsp;while&nbsp;keys&nbsp;like&nbsp;"pront"&nbsp;have&nbsp;specific&nbsp;patterns<br>
replaced&nbsp;in&nbsp;their&nbsp;values.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;input_dict&nbsp;(dict):&nbsp;The&nbsp;dictionary&nbsp;whose&nbsp;keys&nbsp;and&nbsp;values&nbsp;need&nbsp;to&nbsp;be&nbsp;adjusted.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;new&nbsp;dictionary&nbsp;with&nbsp;adjusted&nbsp;keys&nbsp;and&nbsp;values.</span></dd></dl>
 <dl><dt><a name="-capitalize"><strong>capitalize</strong></a>(text: str) -&gt; str</dt><dd><span class="code">Returns&nbsp;the&nbsp;given&nbsp;string&nbsp;capitalized,&nbsp;unless&nbsp;it&nbsp;is&nbsp;in&nbsp;the&nbsp;set&nbsp;of&nbsp;given&nbsp;exceptions.<br>
The&nbsp;exceptions&nbsp;are&nbsp;lowercased&nbsp;words&nbsp;that&nbsp;should&nbsp;not&nbsp;be&nbsp;capitalized.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;capitalized.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;capitalized&nbsp;string,&nbsp;or&nbsp;the&nbsp;original&nbsp;string&nbsp;if&nbsp;it&nbsp;is&nbsp;in&nbsp;the&nbsp;exceptions.<br>
&nbsp;<br>
Examples:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;<a href="#-capitalize">capitalize</a>('a')<br>
&nbsp;&nbsp;&nbsp;&nbsp;'a'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;<a href="#-capitalize">capitalize</a>('A')<br>
&nbsp;&nbsp;&nbsp;&nbsp;'a'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;<a href="#-capitalize">capitalize</a>('hello&nbsp;world')<br>
&nbsp;&nbsp;&nbsp;&nbsp;'Hello&nbsp;world'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;<a href="#-capitalize">capitalize</a>('hello&nbsp;World')<br>
&nbsp;&nbsp;&nbsp;&nbsp;'hello&nbsp;World'</span></dd></dl>
 <dl><dt><a name="-find_best_matching_pair"><strong>find_best_matching_pair</strong></a>(target_pair: Tuple, vector_of_pairs: List[Tuple], score_function: Callable[[Any, Any], int] = &lt;function ratio at 0x7d38117eef20&gt;) -&gt; Tuple[Tuple[str, str], int]</dt><dd><span class="code">Finds&nbsp;the&nbsp;best&nbsp;matching&nbsp;pair&nbsp;of&nbsp;strings&nbsp;in&nbsp;a&nbsp;given&nbsp;vector&nbsp;of&nbsp;pairs,&nbsp;given&nbsp;a&nbsp;target&nbsp;pair,<br>
using&nbsp;a&nbsp;specified&nbsp;score&nbsp;function.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;target_pair&nbsp;(Tuple):&nbsp;A&nbsp;pair&nbsp;of&nbsp;strings&nbsp;to&nbsp;be&nbsp;compared&nbsp;with&nbsp;each&nbsp;pair&nbsp;in&nbsp;the&nbsp;vector.<br>
&nbsp;&nbsp;&nbsp;&nbsp;vector_of_pairs&nbsp;(List[Tuple]):&nbsp;A&nbsp;list&nbsp;of&nbsp;pairs&nbsp;of&nbsp;strings&nbsp;to&nbsp;be&nbsp;compared&nbsp;with&nbsp;the&nbsp;target&nbsp;pair.<br>
&nbsp;&nbsp;&nbsp;&nbsp;score_function&nbsp;(Callable[[Any,&nbsp;Any],&nbsp;int],&nbsp;optional):&nbsp;A&nbsp;function&nbsp;that&nbsp;takes&nbsp;two&nbsp;strings&nbsp;and&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;a&nbsp;score.&nbsp;Defaults&nbsp;to&nbsp;fuzz.ratio.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Tuple[Tuple[str,&nbsp;str],&nbsp;int]:&nbsp;A&nbsp;tuple&nbsp;containing&nbsp;the&nbsp;best&nbsp;matching&nbsp;pair&nbsp;and&nbsp;its&nbsp;corresponding&nbsp;score.</span></dd></dl>
 <dl><dt><a name="-get_documments_path"><strong>get_documments_path</strong></a>() -&gt; str</dt><dd><span class="code">Returns&nbsp;the&nbsp;path&nbsp;to&nbsp;the&nbsp;user's&nbsp;documents&nbsp;directory&nbsp;based&nbsp;on&nbsp;the&nbsp;operating&nbsp;system.<br>
&nbsp;<br>
On&nbsp;Windows,&nbsp;it&nbsp;uses&nbsp;the&nbsp;SHGetFolderPathW&nbsp;API&nbsp;to&nbsp;get&nbsp;the&nbsp;path&nbsp;to&nbsp;the&nbsp;CSIDL_PERSONAL&nbsp;<br>
(Documents)&nbsp;folder.&nbsp;On&nbsp;Linux,&nbsp;it&nbsp;checks&nbsp;the&nbsp;XDG_DOCUMENTS_DIR&nbsp;environment&nbsp;variable&nbsp;<br>
or&nbsp;defaults&nbsp;to&nbsp;the&nbsp;user's&nbsp;home&nbsp;Documents&nbsp;folder.&nbsp;On&nbsp;other&nbsp;platforms,&nbsp;it&nbsp;defaults&nbsp;to&nbsp;<br>
the&nbsp;user's&nbsp;home&nbsp;Documents&nbsp;folder.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;documents&nbsp;directory.</span></dd></dl>
 <dl><dt><a name="-load_csv"><strong>load_csv</strong></a>(filename: str) -&gt; Union[dict, list, NoneType]</dt><dd><span class="code">Loads&nbsp;a&nbsp;CSV&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;list&nbsp;of&nbsp;dictionaries.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;filename&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;CSV&nbsp;file&nbsp;to&nbsp;be&nbsp;loaded.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;dict&nbsp;|&nbsp;list&nbsp;|&nbsp;None:&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;CSV&nbsp;file&nbsp;as&nbsp;a&nbsp;list&nbsp;of&nbsp;dictionaries<br>
&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;successful,&nbsp;or&nbsp;None&nbsp;if&nbsp;an&nbsp;error&nbsp;occurs.</span></dd></dl>
 <dl><dt><a name="-load_json"><strong>load_json</strong></a>(filename) -&gt; dict | None</dt><dd><span class="code">Loads&nbsp;a&nbsp;JSON&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;filename&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;JSON&nbsp;file&nbsp;to&nbsp;be&nbsp;loaded.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;dict&nbsp;|&nbsp;None:&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;JSON&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary&nbsp;if&nbsp;successful,<br>
&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;None&nbsp;if&nbsp;an&nbsp;error&nbsp;occurs.</span></dd></dl>
 <dl><dt><a name="-save_csv"><strong>save_csv</strong></a>(data, filename, delimiter=',', quotechar='"', quoting=2)</dt><dd><span class="code">Saves&nbsp;data&nbsp;to&nbsp;a&nbsp;CSV&nbsp;file&nbsp;with&nbsp;specified&nbsp;formatting&nbsp;options.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(list):&nbsp;A&nbsp;list&nbsp;of&nbsp;rows,&nbsp;where&nbsp;each&nbsp;row&nbsp;is&nbsp;an&nbsp;iterable&nbsp;of&nbsp;values,&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;written&nbsp;to&nbsp;the&nbsp;CSV.<br>
&nbsp;&nbsp;&nbsp;&nbsp;filename&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file&nbsp;where&nbsp;the&nbsp;CSV&nbsp;data&nbsp;will&nbsp;be&nbsp;saved.<br>
&nbsp;&nbsp;&nbsp;&nbsp;delimiter&nbsp;(str,&nbsp;optional):&nbsp;A&nbsp;one-character&nbsp;string&nbsp;used&nbsp;to&nbsp;separate&nbsp;fields&nbsp;in&nbsp;the&nbsp;CSV.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defaults&nbsp;to&nbsp;','.<br>
&nbsp;&nbsp;&nbsp;&nbsp;quotechar&nbsp;(str,&nbsp;optional):&nbsp;A&nbsp;one-character&nbsp;string&nbsp;used&nbsp;to&nbsp;quote&nbsp;fields&nbsp;containing&nbsp;special<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;characters.&nbsp;Defaults&nbsp;to&nbsp;'"'.<br>
&nbsp;&nbsp;&nbsp;&nbsp;quoting&nbsp;(int,&nbsp;optional):&nbsp;Controls&nbsp;the&nbsp;quoting&nbsp;behavior.&nbsp;Defaults&nbsp;to&nbsp;csv.QUOTE_NONNUMERIC.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool:&nbsp;True&nbsp;if&nbsp;the&nbsp;data&nbsp;was&nbsp;successfully&nbsp;saved,&nbsp;or&nbsp;False&nbsp;if&nbsp;an&nbsp;error&nbsp;occurred&nbsp;during<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;process.</span></dd></dl>
 <dl><dt><a name="-save_json"><strong>save_json</strong></a>(filename: str, data: dict | list) -&gt; bool</dt><dd><span class="code">Saves&nbsp;a&nbsp;dictionary&nbsp;or&nbsp;list&nbsp;to&nbsp;a&nbsp;JSON&nbsp;file&nbsp;with&nbsp;pretty&nbsp;formatting.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;filename&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file&nbsp;where&nbsp;the&nbsp;JSON&nbsp;data&nbsp;will&nbsp;be&nbsp;saved.<br>
&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(dict&nbsp;|&nbsp;list):&nbsp;The&nbsp;data&nbsp;to&nbsp;be&nbsp;saved,&nbsp;either&nbsp;as&nbsp;a&nbsp;dictionary&nbsp;or&nbsp;a&nbsp;list.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;bool:&nbsp;True&nbsp;if&nbsp;the&nbsp;data&nbsp;was&nbsp;successfully&nbsp;saved,&nbsp;or&nbsp;False&nbsp;if&nbsp;an&nbsp;error&nbsp;occurred.</span></dd></dl>
 <dl><dt><a name="-to_code"><strong>to_code</strong></a>(text: str) -&gt; str</dt><dd><span class="code">Translates&nbsp;a&nbsp;given&nbsp;text&nbsp;by&nbsp;removing&nbsp;'IQ'&nbsp;followed&nbsp;by&nbsp;digits&nbsp;and&nbsp;then<br>
applying&nbsp;a&nbsp;translation&nbsp;dictionary.<br>
&nbsp;<br>
Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;text&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;translated.<br>
&nbsp;<br>
Returns:<br>
&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;translated&nbsp;string.</span></dd></dl>
</td></tr></table><p>
<table class="section">
<tr class="decor data-decor heading-text">
<td class="section-title" colspan=3>&nbsp;<br><strong class="bigsection">Data</strong></td></tr>
    
<tr><td class="decor data-decor"><span class="code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td>&nbsp;</td>
<td class="singlecolumn"><strong>CAPITALIZE_EXCEPTIONS</strong> = {'a', 'as', 'com', 'da', 'das', 'de', ...}<br>
<strong>CSIDL_PERSONAL</strong> = 5<br>
<strong>Callable</strong> = typing.Callable<br>
<strong>List</strong> = typing.List<br>
<strong>Optional</strong> = typing.Optional<br>
<strong>REMOVE_IQ</strong> = re.compile('[Ii][Qq]\\d0+')<br>
<strong>SHGFP_TYPE_CURRENT</strong> = 0<br>
<strong>TRANSLATE_DICT</strong> = {48: 97, 49: 98, 50: 99, 51: 100, 52: 101, 53: 102, 54: 103, 55: 104, 56: 105, 57: 106, ...}<br>
<strong>TRANSLATE_KEYS</strong> = {'matrícula': 'pront', 'matrícula iq': 'pront', 'prontuário': 'pront', 'refeição': 'dish'}<br>
<strong>Tuple</strong> = typing.Tuple</td></tr></table>
</body></html>